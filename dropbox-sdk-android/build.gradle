plugins {
    id 'com.android.library'
    id 'org.jetbrains.kotlin.android'
    id "org.jetbrains.kotlinx.binary-compatibility-validator"
    alias(dropboxJavaSdkLibs.plugins.maven.publish.plugin)
    alias(dropboxJavaSdkLibs.plugins.gradle.version.plugin)
    alias(dropboxJavaSdkLibs.plugins.dependency.guard)
}

android {
    compileSdk dropboxJavaSdkLibs.versions.android.compile.sdk.get().toInteger()
    defaultConfig {
        minSdk dropboxJavaSdkLibs.versions.android.min.sdk.get().toInteger()
        targetSdk dropboxJavaSdkLibs.versions.android.target.sdk.get().toInteger()
    }

    kotlinOptions {
        freeCompilerArgs += '-Xexplicit-api=strict'
    }
}

dependencies {
    api(project(path: ":dropbox-sdk-java", configuration: "withoutOsgi"))
}

dependencyGuard {
    configuration("releaseRuntimeClasspath")
}
